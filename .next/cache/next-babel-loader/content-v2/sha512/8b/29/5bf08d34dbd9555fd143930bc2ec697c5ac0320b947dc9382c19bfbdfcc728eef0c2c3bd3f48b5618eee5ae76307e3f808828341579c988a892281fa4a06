{"ast":null,"code":"var _jsxFileName = \"D:\\\\Learning\\\\Learning\\\\HKI_NamTu\\\\MoHinhHoaPhanMem\\\\KTXSHOP\\\\Source\\\\FE-KTXSHOP-SELLER\\\\pages\\\\cms\\\\revenue\\\\products-paid.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport { doWithLoggedInUser, renderWithLoggedInUser } from \"../../../lib/login\";\nimport Head from \"next/head\";\nimport { MyCardHeader, MyCard } from \"../../../component/my-card/my-card\";\nimport styles from \"./revenue.module.scss\";\nimport Link from \"next/link\";\nimport { sellerApi } from \"../../../services\";\nimport moment from \"moment\";\nexport default function ProductsPaid(props) {\n  return renderWithLoggedInUser(props, render);\n}\n\nfunction render({\n  listProductsPaid\n}) {\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    select: \"/cms/revenue/products-paid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 11\n    }\n  }, \"S\\u1EA3n ph\\u1EA9m s\\u1EBD thanh to\\xE1n\")), __jsx(MyCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, __jsx(MyCardHeader, {\n    title: \"S\\u1EA3n ph\\u1EA9m \\u0111\\xE3 thanh to\\xE1n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-12 col-xl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.products,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: styles.products__body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: styles.products__table_responsive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: styles.products__length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    className: styles.products__label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 23\n    }\n  }, \"Hi\\u1EC3n th\\u1ECB\", __jsx(\"select\", {\n    name: \"products__select\",\n    \"aria-controls\": \"products__select\",\n    className: styles.products__select,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 25\n    }\n  }, __jsx(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 27\n    }\n  }, \"10\"), __jsx(\"option\", {\n    value: \"25\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 27\n    }\n  }, \"25\"), __jsx(\"option\", {\n    value: \"50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 27\n    }\n  }, \"50\"), __jsx(\"option\", {\n    value: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 27\n    }\n  }, \"100\")))), __jsx(\"div\", {\n    className: styles.products__filter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    className: styles.products__label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 23\n    }\n  }, \"T\\xECm ki\\u1EBFm:\", __jsx(\"input\", {\n    type: \"search\",\n    className: styles.products__input,\n    placeholder: \"Nh\\u1EADp t\\xEAn s\\u1EA3n ph\\u1EA9m\",\n    \"aria-controls\": \"products__input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }))), __jsx(\"table\", {\n    className: styles.products__table_content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, __jsx(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 23\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 27\n    }\n  }, __jsx(\"strong\", {\n    style: {\n      width: \"80px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  }, \"#\")), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 27\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, \"T\\xEAn S\\u1EA3n Ph\\u1EA9m\")), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 27\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }, \"Ng\\xE0y Thanh To\\xE1n\")), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 27\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }, \"S\\u1ED1 Ti\\u1EC1n\")))), __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 23\n    }\n  }, listProductsPaid.map((item, index) => {\n    return __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 29\n      }\n    }, __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 31\n      }\n    }, __jsx(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 33\n      }\n    }, \"0\", index + 1)), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 31\n      }\n    }, item.NameProduct), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 31\n      }\n    }, moment(item.PurchaseDate).format(\"LL\")), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 31\n      }\n    }, __jsx(\"span\", {\n      className: `${styles.products__paid} ${styles.products__status}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    }, item.Subtotal, \"\\u0111\")));\n  }))), __jsx(\"div\", {\n    className: styles.products__info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \"Hi\\u1EC3n th\\u1ECB 1 \\u0111\\u1EBFn 10 trong \", listProductsPaid.length, \" s\\u1EA3n ph\\u1EA9m\"), __jsx(\"div\", {\n    className: styles.products__paginate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: styles.products__previous,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 23\n    }\n  }, \"Trang Tr\\u01B0\\u1EDBc\"), __jsx(\"span\", {\n    className: styles.products__rank,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 23\n    }\n  }, __jsx(Link, {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, __jsx(\"a\", {\n    className: `${styles.products__current} ${styles.products__btn}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 27\n    }\n  }, \"1\")), __jsx(Link, {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, __jsx(\"a\", {\n    className: styles.products__btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 27\n    }\n  }, \"2\")), __jsx(Link, {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, __jsx(\"a\", {\n    className: styles.products__btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 27\n    }\n  }, \"3\"))), __jsx(\"div\", {\n    className: styles.products__next,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 23\n    }\n  }, \"Trang Sau\"))))))))));\n}\n\nexport const getServerSideProps = async () => {\n  const listProducts = await sellerApi.getProducts({});\n  const dataProducts = listProducts.data.data;\n  const listOrders = await sellerApi.getOrders({});\n  const dataOrders = listOrders.data.data;\n  const listProductsPaid = [];\n  const listProductsID = [];\n  const listNameProducts = [];\n  dataOrders.map(item => {\n    if (item.attributes.AccountID === 1 && item.attributes.Status === \"Paid\") {\n      listProductsID.push(item.attributes.ProductID);\n      listProductsPaid.push(item.attributes);\n    }\n  });\n  dataProducts.map((item, index) => {\n    if (listProductsID.includes(item.id)) {\n      listNameProducts.push(item.attributes.name);\n    }\n  });\n  listNameProducts.map((item, index) => {\n    listProductsPaid[index] = _objectSpread(_objectSpread({}, listProductsPaid[index]), {}, {\n      [\"NameProduct\"]: item\n    });\n  });\n  return {\n    props: {\n      listProductsPaid\n    }\n  };\n};","map":{"version":3,"sources":["D:/Learning/Learning/HKI_NamTu/MoHinhHoaPhanMem/KTXSHOP/Source/FE-KTXSHOP-SELLER/pages/cms/revenue/products-paid.js"],"names":["React","doWithLoggedInUser","renderWithLoggedInUser","Head","MyCardHeader","MyCard","styles","Link","sellerApi","moment","ProductsPaid","props","render","listProductsPaid","products","products__body","products__table_responsive","products__length","products__label","products__select","products__filter","products__input","products__table_content","width","map","item","index","NameProduct","PurchaseDate","format","products__paid","products__status","Subtotal","products__info","length","products__paginate","products__previous","products__rank","products__current","products__btn","products__next","getServerSideProps","listProducts","getProducts","dataProducts","data","listOrders","getOrders","dataOrders","listProductsID","listNameProducts","attributes","AccountID","Status","push","ProductID","includes","id","name"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n\r\nimport { doWithLoggedInUser, renderWithLoggedInUser } from \"../../../lib/login\";\r\nimport Head from \"next/head\";\r\nimport { MyCardHeader, MyCard } from \"../../../component/my-card/my-card\";\r\nimport styles from \"./revenue.module.scss\";\r\nimport Link from \"next/link\";\r\nimport { sellerApi } from \"../../../services\";\r\nimport moment from \"moment\";\r\n\r\nexport default function ProductsPaid(props) {\r\n  return renderWithLoggedInUser(props, render);\r\n}\r\n\r\nfunction render({ listProductsPaid }) {\r\n  return (\r\n    <>\r\n      <div select=\"/cms/revenue/products-paid\">\r\n        <Head>\r\n          <title>Sản phẩm sẽ thanh toán</title>\r\n        </Head>\r\n        <MyCard>\r\n          <MyCardHeader title=\"Sản phẩm đã thanh toán\" />\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12 col-xl-12\">\r\n              <div className={styles.products}>\r\n                <div className={styles.products__body}>\r\n                  <div className={styles.products__table_responsive}>\r\n                    <div className={styles.products__length}>\r\n                      <label className={styles.products__label}>\r\n                        Hiển thị\r\n                        <select\r\n                          name=\"products__select\"\r\n                          aria-controls=\"products__select\"\r\n                          className={styles.products__select}\r\n                        >\r\n                          <option value=\"10\">10</option>\r\n                          <option value=\"25\">25</option>\r\n                          <option value=\"50\">50</option>\r\n                          <option value=\"100\">100</option>\r\n                        </select>\r\n                      </label>\r\n                    </div>\r\n                    <div className={styles.products__filter}>\r\n                      <label className={styles.products__label}>\r\n                        Tìm kiếm:\r\n                        <input\r\n                          type=\"search\"\r\n                          className={styles.products__input}\r\n                          placeholder=\"Nhập tên sản phẩm\"\r\n                          aria-controls=\"products__input\"\r\n                        ></input>\r\n                      </label>\r\n                    </div>\r\n                    <table className={styles.products__table_content}>\r\n                      <thead>\r\n                        <tr>\r\n                          <th>\r\n                            <strong style={{ width: \"80px\" }}>#</strong>\r\n                          </th>\r\n                          <th>\r\n                            <strong>Tên Sản Phẩm</strong>\r\n                          </th>\r\n                          <th>\r\n                            <strong>Ngày Thanh Toán</strong>\r\n                          </th>\r\n                          <th>\r\n                            <strong>Số Tiền</strong>\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {listProductsPaid.map((item, index) => {\r\n                          return (\r\n                            <tr>\r\n                              <td>\r\n                                <strong>0{index + 1}</strong>\r\n                              </td>\r\n                              <td>{item.NameProduct}</td>\r\n                              <td>{moment(item.PurchaseDate).format(\"LL\")}</td>\r\n                              <td>\r\n                                <span\r\n                                  className={`${styles.products__paid} ${styles.products__status}`}\r\n                                >\r\n                                  {item.Subtotal}đ\r\n                                </span>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                    <div className={styles.products__info}>\r\n                      Hiển thị 1 đến 10 trong {listProductsPaid.length} sản phẩm\r\n                    </div>\r\n                    <div className={styles.products__paginate}>\r\n                      <div className={styles.products__previous}>\r\n                        Trang Trước\r\n                      </div>\r\n                      <span className={styles.products__rank}>\r\n                        <Link href={\"#\"}>\r\n                          <a\r\n                            className={`${styles.products__current} ${styles.products__btn}`}\r\n                          >\r\n                            1\r\n                          </a>\r\n                        </Link>\r\n                        <Link href={\"#\"}>\r\n                          <a className={styles.products__btn}>2</a>\r\n                        </Link>\r\n                        <Link href={\"#\"}>\r\n                          <a className={styles.products__btn}>3</a>\r\n                        </Link>\r\n                      </span>\r\n                      <div className={styles.products__next}>Trang Sau</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </MyCard>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const getServerSideProps = async () => {\r\n  const listProducts = await sellerApi.getProducts({});\r\n  const dataProducts = listProducts.data.data;\r\n  const listOrders = await sellerApi.getOrders({});\r\n  const dataOrders = listOrders.data.data;\r\n\r\n  const listProductsPaid = [];\r\n  const listProductsID = [];\r\n  const listNameProducts = [];\r\n\r\n  dataOrders.map((item) => {\r\n    if (item.attributes.AccountID === 1 && item.attributes.Status === \"Paid\") {\r\n      listProductsID.push(item.attributes.ProductID);\r\n      listProductsPaid.push(item.attributes);\r\n    }\r\n  });\r\n\r\n  dataProducts.map((item, index) => {\r\n    if (listProductsID.includes(item.id)) {\r\n      listNameProducts.push(item.attributes.name);\r\n    }\r\n  });\r\n\r\n  listNameProducts.map((item, index) => {\r\n    listProductsPaid[index] = {\r\n      ...listProductsPaid[index],\r\n      [\"NameProduct\"]: item,\r\n    };\r\n  });\r\n\r\n  return {\r\n    props: {\r\n      listProductsPaid,\r\n    },\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}