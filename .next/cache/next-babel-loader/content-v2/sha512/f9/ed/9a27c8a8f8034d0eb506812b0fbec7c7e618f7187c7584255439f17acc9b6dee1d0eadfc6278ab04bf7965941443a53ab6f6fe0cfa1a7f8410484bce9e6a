{"ast":null,"code":"import _slicedToArray from \"D:/Learning/Learning/HKI_NamTu/MoHinhHoaPhanMem/KTXSHOP/Source/FE-KTXSHOP-SELLER/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\Learning\\\\Learning\\\\HKI_NamTu\\\\MoHinhHoaPhanMem\\\\KTXSHOP\\\\Source\\\\FE-KTXSHOP-SELLER\\\\component\\\\loader\\\\loader.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport { CircularProgress } from '@material-ui/core';\nimport React, { useEffect } from 'react';\nimport styles from './loader.module.css';\nexport default function Loader(props) {\n  _s();\n\n  var _React$useState = React.useState(props.show),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      show = _React$useState2[0],\n      setShow = _React$useState2[1];\n\n  var _React$useState3 = React.useState(props.showText),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      showText = _React$useState4[0],\n      setShowText = _React$useState4[1]; // listen props\n\n\n  useEffect(function () {\n    setShow(props.show);\n  }, [props.show]);\n  useEffect(function () {\n    setShowText(props.showText);\n  }, [props.showText]);\n  return __jsx(\"div\", {\n    className: styles.loaderScreen + (show ? \"\" : \" \" + styles.hidden) + (showText ? \"\" : \" \" + styles.softLoading),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }, __jsx(CircularProgress, {\n    size: 60,\n    thickness: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 17\n    }\n  })), showText && __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 27\n    }\n  }, \"\\u0110ang v\\xE0o h\\u1EC7 th\\u1ED1ng ...\"));\n}\n\n_s(Loader, \"Ppn7XUzVOAd2JkYXHruYLOYtY2I=\");\n\n_c = Loader;\nvar loadTime;\nexport function setupLoading(router, setShowLoader) {\n  var routeChangeStart = function routeChangeStart() {\n    loadTime = +new Date();\n    setShowLoader(true);\n  };\n\n  var routeChangeComplete = function routeChangeComplete() {\n    var diff = +new Date() - loadTime;\n\n    if (diff < 400) {\n      setTimeout(function () {\n        setShowLoader(false);\n      }, 400 - diff);\n    } else {\n      setShowLoader(false);\n    }\n  };\n\n  router.events.on(\"routeChangeStart\", routeChangeStart);\n  router.events.on(\"routeChangeComplete\", routeChangeComplete);\n  router.events.on(\"routeChangeError\", routeChangeComplete);\n  return function () {\n    router.events.off(\"routeChangeStart\", routeChangeStart);\n    router.events.off(\"routeChangeComplete\", routeChangeComplete);\n    router.events.off(\"routeChangeError\", routeChangeComplete);\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Loader\");","map":{"version":3,"sources":["D:/Learning/Learning/HKI_NamTu/MoHinhHoaPhanMem/KTXSHOP/Source/FE-KTXSHOP-SELLER/component/loader/loader.js"],"names":["CircularProgress","React","useEffect","styles","Loader","props","useState","show","setShow","showText","setShowText","loaderScreen","hidden","softLoading","loadTime","setupLoading","router","setShowLoader","routeChangeStart","Date","routeChangeComplete","diff","setTimeout","events","on","off"],"mappings":";;;;;;AAAA,SAASA,gBAAT,QAAiC,mBAAjC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AAEA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AAAA;;AAAA,wBAEVJ,KAAK,CAACK,QAAN,CAAeD,KAAK,CAACE,IAArB,CAFU;AAAA;AAAA,MAE3BA,IAF2B;AAAA,MAErBC,OAFqB;;AAAA,yBAGFP,KAAK,CAACK,QAAN,CAAeD,KAAK,CAACI,QAArB,CAHE;AAAA;AAAA,MAG3BA,QAH2B;AAAA,MAGjBC,WAHiB,wBAKlC;;;AACAR,EAAAA,SAAS,CAAC,YAAM;AACZM,IAAAA,OAAO,CAACH,KAAK,CAACE,IAAP,CAAP;AACH,GAFQ,EAEN,CAACF,KAAK,CAACE,IAAP,CAFM,CAAT;AAIAL,EAAAA,SAAS,CAAC,YAAM;AACZQ,IAAAA,WAAW,CAACL,KAAK,CAACI,QAAP,CAAX;AACH,GAFQ,EAEN,CAACJ,KAAK,CAACI,QAAP,CAFM,CAAT;AAIA,SACI;AAAK,IAAA,SAAS,EAAEN,MAAM,CAACQ,YAAP,IAAuBJ,IAAI,GAAG,EAAH,GAAQ,MAAMJ,MAAM,CAACS,MAAhD,KAA2DH,QAAQ,GAAG,EAAH,GAAQ,MAAMN,MAAM,CAACU,WAAxF,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,gBAAD;AAAkB,IAAA,IAAI,EAAE,EAAxB;AAA4B,IAAA,SAAS,EAAE,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAIMJ,QAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAJlB,CADJ;AAUH;;GAxBuBL,M;;KAAAA,M;AA2BxB,IAAIU,QAAJ;AACA,OAAO,SAASC,YAAT,CAAsBC,MAAtB,EAA8BC,aAA9B,EAA6C;AAChD,MAAIC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AACzBJ,IAAAA,QAAQ,GAAG,CAAC,IAAIK,IAAJ,EAAZ;AACAF,IAAAA,aAAa,CAAC,IAAD,CAAb;AACH,GAHD;;AAIA,MAAIG,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAC5B,QAAIC,IAAI,GAAG,CAAC,IAAIF,IAAJ,EAAD,GAAcL,QAAzB;;AACA,QAAIO,IAAI,GAAG,GAAX,EAAgB;AACZC,MAAAA,UAAU,CAAC,YAAM;AAAEL,QAAAA,aAAa,CAAC,KAAD,CAAb;AAAuB,OAAhC,EAAkC,MAAMI,IAAxC,CAAV;AACH,KAFD,MAEO;AACHJ,MAAAA,aAAa,CAAC,KAAD,CAAb;AACH;AACJ,GAPD;;AASAD,EAAAA,MAAM,CAACO,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCN,gBAArC;AACAF,EAAAA,MAAM,CAACO,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,EAAwCJ,mBAAxC;AACAJ,EAAAA,MAAM,CAACO,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCJ,mBAArC;AAEA,SAAO,YAAM;AACTJ,IAAAA,MAAM,CAACO,MAAP,CAAcE,GAAd,CAAkB,kBAAlB,EAAsCP,gBAAtC;AACAF,IAAAA,MAAM,CAACO,MAAP,CAAcE,GAAd,CAAkB,qBAAlB,EAAyCL,mBAAzC;AACAJ,IAAAA,MAAM,CAACO,MAAP,CAAcE,GAAd,CAAkB,kBAAlB,EAAsCL,mBAAtC;AACH,GAJD;AAKH","sourcesContent":["import { CircularProgress } from '@material-ui/core'\r\nimport React, { useEffect } from 'react'\r\nimport styles from './loader.module.css'\r\n\r\nexport default function Loader(props) {\r\n\r\n    const [show, setShow] = React.useState(props.show)\r\n    const [showText, setShowText] = React.useState(props.showText)\r\n\r\n    // listen props\r\n    useEffect(() => {\r\n        setShow(props.show)\r\n    }, [props.show])\r\n\r\n    useEffect(() => {\r\n        setShowText(props.showText)\r\n    }, [props.showText])\r\n\r\n    return (\r\n        <div className={styles.loaderScreen + (show ? \"\" : \" \" + styles.hidden) + (showText ? \"\" : \" \" + styles.softLoading)}>\r\n            <div>\r\n                <CircularProgress size={60} thickness={6} />\r\n            </div>\r\n            { showText && <div>\r\n                Đang vào hệ thống ...\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nvar loadTime\r\nexport function setupLoading(router, setShowLoader) {\r\n    let routeChangeStart = () => {\r\n        loadTime = +new Date()\r\n        setShowLoader(true);\r\n    }\r\n    let routeChangeComplete = () => {\r\n        let diff = +new Date() - loadTime\r\n        if (diff < 400) {\r\n            setTimeout(() => { setShowLoader(false); }, 400 - diff)\r\n        } else {\r\n            setShowLoader(false);\r\n        }\r\n    }\r\n\r\n    router.events.on(\"routeChangeStart\", routeChangeStart);\r\n    router.events.on(\"routeChangeComplete\", routeChangeComplete);\r\n    router.events.on(\"routeChangeError\", routeChangeComplete);\r\n\r\n    return () => {\r\n        router.events.off(\"routeChangeStart\", routeChangeStart);\r\n        router.events.off(\"routeChangeComplete\", routeChangeComplete);\r\n        router.events.off(\"routeChangeError\", routeChangeComplete);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}