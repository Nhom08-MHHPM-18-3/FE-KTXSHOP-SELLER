{"ast":null,"code":"import _regeneratorRuntime from \"D:/Learning/Learning/HKI_NamTu/MoHinhHoaPhanMem/KTXSHOP/Source/FE-KTXSHOP-SELLER/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/Learning/Learning/HKI_NamTu/MoHinhHoaPhanMem/KTXSHOP/Source/FE-KTXSHOP-SELLER/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/Learning/Learning/HKI_NamTu/MoHinhHoaPhanMem/KTXSHOP/Source/FE-KTXSHOP-SELLER/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\Learning\\\\Learning\\\\HKI_NamTu\\\\MoHinhHoaPhanMem\\\\KTXSHOP\\\\Source\\\\FE-KTXSHOP-SELLER\\\\component\\\\header\\\\header.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport styles from \"./header.module.css\";\nimport React from 'react';\nimport { AppBar, Toolbar, IconButton, Menu, MenuItem, Box } from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { AccountCircle } from \"@material-ui/icons\";\nimport { useRouter } from \"next/router\";\nimport { doLogout } from \"../../lib/login\";\nimport Link from 'next/link';\nimport UserContext from \"../my-context/my-context\";\nimport { useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { acceptedScreenPath } from '../../lib/login';\n\nfunction HeaderMenuItem(props) {\n  var _this = this;\n\n  var data = props.item;\n  return __jsx(Box, {\n    className: styles.menuItemWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }\n  }, data.link ? __jsx(Link, {\n    href: data.link,\n    prefetch: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 27\n    }\n  }, __jsx(\"a\", {\n    className: styles.menuItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 21\n    }\n  }, data.name))) : __jsx(Box, {\n    className: styles.menuItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 23\n    }\n  }, data.name), data.subMenu && __jsx(Box, {\n    className: styles.subMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 33\n    }\n  }, data.subMenu.map(function (subMenuItem) {\n    return __jsx(Link, {\n      href: subMenuItem.link,\n      key: subMenuItem.key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 29\n      }\n    }, __jsx(\"a\", {\n      className: styles.subMenuItem,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 33\n      }\n    }, subMenuItem.icon && __jsx(FontAwesomeIcon, {\n      icon: subMenuItem.icon,\n      className: styles.menuIcon,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 58\n      }\n    }), subMenuItem.name));\n  })));\n}\n\n_c = HeaderMenuItem;\n\nfunction filterSubMenu(subMenu, loggedInUserInfo) {\n  var result = [];\n  subMenu.forEach(function (subItem) {\n    // if (subItem.link && acceptedScreenPath(loggedInUserInfo, subItem.link)) {\n    result.push(subItem); // }\n  });\n  return result;\n}\n\nexport default function Header(props) {\n  _s();\n\n  var _this2 = this;\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      anchorEl = _React$useState2[0],\n      setAnchorEl = _React$useState2[1];\n\n  var open = Boolean(anchorEl);\n  var router = useRouter();\n\n  var handleMenu = function handleMenu(event) {\n    setAnchorEl(event.currentTarget);\n  };\n\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n\n  var _React$useContext = React.useContext(UserContext),\n      loggedInUserInfo = _React$useContext.loggedInUserInfo; // filter menu\n\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      topMenuList = _React$useState4[0],\n      setTopMenuList = _React$useState4[1];\n\n  useEffect(function () {\n    var topMenu = [];\n    props.menu.forEach(function (menuItem) {\n      var allow = false;\n\n      if (!menuItem.link && !menuItem.required) {\n        allow = true;\n      } else {\n        // if (acceptedScreenPath(loggedInUserInfo, menuItem.link || menuItem.required)) {\n        allow = true; // }\n      } // if allow this top menu\n\n\n      if (allow) {\n        topMenu.push(menuItem);\n\n        if (menuItem.subMenu && menuItem.subMenu.length) {\n          menuItem.subMenu = filterSubMenu(menuItem.subMenu, loggedInUserInfo);\n        }\n      }\n    });\n    setTopMenuList(topMenu);\n  }, []);\n  return __jsx(AppBar, {\n    position: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, __jsx(Toolbar, {\n    variant: \"dense\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    style: {\n      \"display\": \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, __jsx(IconButton, {\n    edge: \"start\",\n    className: styles.menuBtn,\n    color: \"inherit\",\n    \"aria-label\": \"menu\",\n    onClick: function onClick() {\n      props.sidebar.current.setActive(true); // open sidebar\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, __jsx(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  })), __jsx(Box, {\n    className: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, props.title), __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, topMenuList.map(function (menuItem) {\n    return __jsx(HeaderMenuItem, {\n      item: menuItem,\n      key: menuItem.key,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 59\n      }\n    });\n  }))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, __jsx(IconButton, {\n    edge: \"end\",\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"menu-appbar\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleMenu,\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, __jsx(AccountCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  })), __jsx(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    keepMounted: true,\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: open,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, __jsx(MenuItem, {\n    onClick: function onClick() {\n      handleClose();\n      router.push(\"/profile\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, \"T\\xE0i kho\\u1EA3n c\\xE1 nh\\xE2n\"), __jsx(MenuItem, {\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return doLogout();\n\n            case 2:\n              if (true) {\n                window.location.href = \"/login\";\n              } else {\n                router.push(\"/login\");\n              }\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, \"\\u0110\\u0103ng xu\\u1EA5t\")))));\n}\n\n_s(Header, \"ihx3s5cGJbzih4V2/5m07Po5E4M=\", false, function () {\n  return [useRouter];\n});\n\n_c2 = Header;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"HeaderMenuItem\");\n$RefreshReg$(_c2, \"Header\");","map":{"version":3,"sources":["D:/Learning/Learning/HKI_NamTu/MoHinhHoaPhanMem/KTXSHOP/Source/FE-KTXSHOP-SELLER/component/header/header.js"],"names":["styles","React","AppBar","Toolbar","IconButton","Menu","MenuItem","Box","MenuIcon","AccountCircle","useRouter","doLogout","Link","UserContext","useEffect","FontAwesomeIcon","acceptedScreenPath","HeaderMenuItem","props","data","item","menuItemWrapper","link","menuItem","name","subMenu","map","subMenuItem","key","icon","menuIcon","filterSubMenu","loggedInUserInfo","result","forEach","subItem","push","Header","useState","anchorEl","setAnchorEl","open","Boolean","router","handleMenu","event","currentTarget","handleClose","useContext","topMenuList","setTopMenuList","topMenu","menu","allow","required","length","menuBtn","sidebar","current","setActive","title","vertical","horizontal","window","location","href"],"mappings":"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","sourcesContent":["import styles from \"./header.module.css\"\r\nimport React from 'react';\r\nimport { AppBar, Toolbar, IconButton, Menu, MenuItem, Box } from \"@material-ui/core\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\"\r\nimport { AccountCircle } from \"@material-ui/icons\";\r\nimport { useRouter } from \"next/router\";\r\nimport { doLogout } from \"../../lib/login\";\r\nimport Link from 'next/link';\r\nimport UserContext from \"../my-context/my-context\";\r\nimport { useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { acceptedScreenPath } from '../../lib/login';\r\n\r\n\r\nfunction HeaderMenuItem(props) {\r\n    const data = props.item\r\n    return (\r\n        <Box className={styles.menuItemWrapper}\r\n\r\n        >\r\n            { data.link ? <Link href={data.link} prefetch={false}>\r\n                <a className={styles.menuItem}>\r\n                    <span>{data.name}</span>\r\n                </a>\r\n            </Link> : <Box className={styles.menuItem}>\r\n                    {data.name}\r\n                </Box>}\r\n            {\r\n                data.subMenu && <Box className={styles.subMenu}>\r\n                    {\r\n                        data.subMenu.map((subMenuItem) =>\r\n                            <Link href={subMenuItem.link} key={subMenuItem.key}>\r\n                                <a className={styles.subMenuItem}>\r\n                                    {subMenuItem.icon && <FontAwesomeIcon icon={subMenuItem.icon} className={styles.menuIcon} />}\r\n                                    {subMenuItem.name}</a>\r\n                            </Link>)\r\n\r\n                    }\r\n                </Box>\r\n            }\r\n        </Box>\r\n    )\r\n}\r\n\r\nfunction filterSubMenu(subMenu, loggedInUserInfo) {\r\n    let result = []\r\n    subMenu.forEach(subItem => {\r\n        // if (subItem.link && acceptedScreenPath(loggedInUserInfo, subItem.link)) {\r\n        result.push(subItem)\r\n        // }\r\n    })\r\n\r\n    return result\r\n}\r\n\r\nexport default function Header(props) {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const router = useRouter()\r\n    const handleMenu = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const { loggedInUserInfo } = React.useContext(UserContext);\r\n\r\n    // filter menu\r\n    const [topMenuList, setTopMenuList] = React.useState([])\r\n    useEffect(() => {\r\n        let topMenu = []\r\n        props.menu.forEach((menuItem) => {\r\n            let allow = false\r\n            if (!menuItem.link && !menuItem.required) {\r\n                allow = true\r\n            } else {\r\n                // if (acceptedScreenPath(loggedInUserInfo, menuItem.link || menuItem.required)) {\r\n                allow = true\r\n                // }\r\n            }\r\n\r\n            // if allow this top menu\r\n            if (allow) {\r\n                topMenu.push(menuItem)\r\n                if (menuItem.subMenu && menuItem.subMenu.length) {\r\n                    menuItem.subMenu = filterSubMenu(menuItem.subMenu, loggedInUserInfo)\r\n                }\r\n            }\r\n        })\r\n        setTopMenuList(topMenu)\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <AppBar position=\"fixed\">\r\n            <Toolbar variant=\"dense\">\r\n                <div style={{ \"display\": \"flex\", }} >\r\n                    <IconButton edge=\"start\" className={styles.menuBtn} color=\"inherit\"\r\n                        aria-label=\"menu\"\r\n                        onClick={() => {\r\n                            props.sidebar.current.setActive(true) // open sidebar\r\n                        }}\r\n                    >\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                    <Box className={styles.title}>\r\n                        {props.title}\r\n                    </Box>\r\n                    <Box>\r\n                        {\r\n                            topMenuList.map((menuItem) => <HeaderMenuItem item={menuItem} key={menuItem.key} />)\r\n                        }\r\n                    </Box>\r\n                </div>\r\n                <div>\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"account of current user\"\r\n                        aria-controls=\"menu-appbar\"\r\n                        aria-haspopup=\"true\"\r\n                        onClick={handleMenu}\r\n                        color=\"inherit\"\r\n                    >\r\n                        <AccountCircle />\r\n                    </IconButton>\r\n                    <Menu\r\n                        id=\"menu-appbar\"\r\n                        anchorEl={anchorEl}\r\n                        anchorOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'right',\r\n                        }}\r\n                        keepMounted\r\n                        transformOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'right',\r\n                        }}\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                    >\r\n                        <MenuItem onClick={() => {\r\n                            handleClose()\r\n                            router.push(\"/profile\")\r\n                        }}>Tài khoản cá nhân</MenuItem>\r\n                        <MenuItem onClick={async () => {\r\n                            await doLogout()\r\n                            if (typeof window != 'undefined') {\r\n                                window.location.href = \"/login\"\r\n                            } else {\r\n                                router.push(\"/login\")\r\n                            }\r\n                        }}>Đăng xuất</MenuItem>\r\n                    </Menu>\r\n                </div>\r\n            </Toolbar>\r\n        </AppBar>\r\n\r\n\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}