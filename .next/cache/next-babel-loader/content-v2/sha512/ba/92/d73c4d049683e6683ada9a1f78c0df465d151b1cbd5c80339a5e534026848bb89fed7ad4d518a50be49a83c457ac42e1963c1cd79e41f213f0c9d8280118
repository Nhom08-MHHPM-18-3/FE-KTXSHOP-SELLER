{"ast":null,"code":"var _jsxFileName = \"D:\\\\Learning\\\\Learning\\\\HKI_NamTu\\\\MoHinhHoaPhanMem\\\\KTXSHOP\\\\Source\\\\FE-KTXSHOP-SELLER\\\\pages\\\\cms\\\\revenue\\\\index.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { doWithLoggedInUser, renderWithLoggedInUser } from \"../../../lib/login\";\nimport Head from \"next/head\";\nimport { MyCardHeader, MyCard } from \"../../../component/my-card/my-card\";\nimport styles from \"./revenue.module.scss\";\nexport var __N_SSP = true;\nexport default function Revenue(props) {\n  return renderWithLoggedInUser(props, render);\n}\n_c = Revenue;\n\nfunction render(_ref) {\n  var _this = this;\n\n  var moneyPaid = _ref.moneyPaid,\n      moneyUnpaid = _ref.moneyUnpaid,\n      numberProductsPaid = _ref.numberProductsPaid,\n      numberProductsUnpaid = _ref.numberProductsUnpaid;\n  var listRevenueProductsPaid = [{\n    title: \"Tổng số tiền\",\n    count: \"\".concat(moneyPaid, \"\\u0111\")\n  }, {\n    title: \"Tổng số đơn hàng\",\n    count: numberProductsPaid\n  }];\n  var listRevenueProductsUnpaid = [{\n    title: \"Tổng số tiền\",\n    count: \"\".concat(moneyUnpaid, \"\\u0111\")\n  }, {\n    title: \"Tổng số đơn hàng\",\n    count: numberProductsUnpaid\n  }];\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    select: \"/cms/revenue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, \"T\\u1ED5ng qu\\xE1t doanh thu\")), __jsx(MyCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, __jsx(MyCardHeader, {\n    title: \"T\\u1ED5ng quan doanh thu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"col-lg-12 col-xl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"\".concat(styles.view_revenue, \" mb_30\\\"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.view_revenue__header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: styles.view_revenue__title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, __jsx(\"h3\", {\n    className: \"mb_25\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 19\n    }\n  }, \"\\u0110\\u01A1n h\\xE0ng s\\u1EBD thanh to\\xE1n\"))), __jsx(\"div\", {\n    className: styles.view_revenue__servay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, listRevenueProductsUnpaid.map(function (item, index) {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"col-md-6\",\n      key: \"paid-\".concat(index),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: styles.view_revenue__count,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 27\n      }\n    }, __jsx(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, __jsx(\"span\", {\n      className: styles.view_revenue__counter,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 31\n      }\n    }, item.count)), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    }, item.title))));\n  }))))), __jsx(\"div\", {\n    className: \"col-lg-12 col-xl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"\".concat(styles.view_revenue, \" mb_30\\\"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.view_revenue__header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: styles.view_revenue__title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, __jsx(\"h3\", {\n    className: \"mb_25\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, \"\\u0110\\u01A1n h\\xE0ng \\u0111\\xE3 thanh to\\xE1n\"))), __jsx(\"div\", {\n    className: styles.view_revenue__servay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, listRevenueProductsPaid.map(function (item, index) {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"col-md-6\",\n      key: \"paid-\".concat(index),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: styles.view_revenue__count,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 27\n      }\n    }, __jsx(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, __jsx(\"span\", {\n      className: styles.view_revenue__counter,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 31\n      }\n    }, item.count)), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, item.title))));\n  }))))))));\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Revenue\");","map":{"version":3,"sources":["D:/Learning/Learning/HKI_NamTu/MoHinhHoaPhanMem/KTXSHOP/Source/FE-KTXSHOP-SELLER/pages/cms/revenue/index.js"],"names":["React","doWithLoggedInUser","renderWithLoggedInUser","Head","MyCardHeader","MyCard","styles","Revenue","props","render","moneyPaid","moneyUnpaid","numberProductsPaid","numberProductsUnpaid","listRevenueProductsPaid","title","count","listRevenueProductsUnpaid","view_revenue","view_revenue__header","view_revenue__title","view_revenue__servay","map","item","index","view_revenue__count","view_revenue__counter"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n\r\nimport { doWithLoggedInUser, renderWithLoggedInUser } from \"../../../lib/login\";\r\nimport Head from \"next/head\";\r\nimport { MyCardHeader, MyCard } from \"../../../component/my-card/my-card\";\r\nimport styles from \"./revenue.module.scss\";\r\nimport { sellerApi } from \"../../../services/sellerApi\";\r\n\r\nexport default function Revenue(props) {\r\n  return renderWithLoggedInUser(props, render);\r\n}\r\n\r\nfunction render({\r\n  moneyPaid,\r\n  moneyUnpaid,\r\n  numberProductsPaid,\r\n  numberProductsUnpaid,\r\n}) {\r\n  const listRevenueProductsPaid = [\r\n    {\r\n      title: \"Tổng số tiền\",\r\n      count: `${moneyPaid}đ`,\r\n    },\r\n    {\r\n      title: \"Tổng số đơn hàng\",\r\n      count: numberProductsPaid,\r\n    },\r\n  ];\r\n\r\n  const listRevenueProductsUnpaid = [\r\n    {\r\n      title: \"Tổng số tiền\",\r\n      count: `${moneyUnpaid}đ`,\r\n    },\r\n    {\r\n      title: \"Tổng số đơn hàng\",\r\n      count: numberProductsUnpaid,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div select=\"/cms/revenue\">\r\n        <Head>\r\n          <title>Tổng quát doanh thu</title>\r\n        </Head>\r\n        <MyCard>\r\n          <MyCardHeader title=\"Tổng quan doanh thu\" />\r\n          <div className=\"col-lg-12 col-xl-12\">\r\n            <div className={`${styles.view_revenue} mb_30\"`}>\r\n              <div className={styles.view_revenue__header}>\r\n                <div className={styles.view_revenue__title}>\r\n                  <h3 className=\"mb_25\">Đơn hàng sẽ thanh toán</h3>\r\n                </div>\r\n              </div>\r\n              <div className={styles.view_revenue__servay}>\r\n                <div className=\"row\">\r\n                  {listRevenueProductsUnpaid.map((item, index) => {\r\n                    return (\r\n                      <>\r\n                        <div className=\"col-md-6\" key={`paid-${index}`}>\r\n                          <div className={styles.view_revenue__count}>\r\n                            <h3>\r\n                              <span className={styles.view_revenue__counter}>\r\n                                {item.count}\r\n                              </span>\r\n                            </h3>\r\n                            <p>{item.title}</p>\r\n                          </div>\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-12 col-xl-12\">\r\n            <div className={`${styles.view_revenue} mb_30\"`}>\r\n              <div className={styles.view_revenue__header}>\r\n                <div className={styles.view_revenue__title}>\r\n                  <h3 className=\"mb_25\">Đơn hàng đã thanh toán</h3>\r\n                </div>\r\n              </div>\r\n              <div className={styles.view_revenue__servay}>\r\n                <div className=\"row\">\r\n                  {listRevenueProductsPaid.map((item, index) => {\r\n                    return (\r\n                      <>\r\n                        <div className=\"col-md-6\" key={`paid-${index}`}>\r\n                          <div className={styles.view_revenue__count}>\r\n                            <h3>\r\n                              <span className={styles.view_revenue__counter}>\r\n                                {item.count}\r\n                              </span>\r\n                            </h3>\r\n                            <p>{item.title}</p>\r\n                          </div>\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </MyCard>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const getServerSideProps = async () => {\r\n  const listOrders = await sellerApi.getOrders({});\r\n  const dataOrders = listOrders.data.data;\r\n  const listRevenue = await sellerApi.getRevenue({});\r\n  const dataRevenue = listRevenue.data.data;\r\n\r\n  console.log(localStorage.getItem('account'))\r\n\r\n  let moneyPaid = 0;\r\n  let moneyUnpaid = 0;\r\n  let numberProductsPaid = 0;\r\n  let numberProductsUnpaid = 0;\r\n\r\n  dataRevenue.map((item) => {\r\n    if (item.attributes.AccountID === 1) {\r\n      moneyUnpaid = item.attributes.MoneyWillPay;\r\n      moneyPaid = item.attributes.MoneyPaid;\r\n    }\r\n  });\r\n\r\n  dataOrders.map((item) => {\r\n    if (item.attributes.Status === \"Unpaid\") {\r\n      numberProductsUnpaid++;\r\n    }\r\n\r\n    if (item.attributes.Status === \"Paid\") {\r\n      numberProductsPaid++;\r\n    }\r\n  });\r\n\r\n  return {\r\n    props: {\r\n      moneyPaid,\r\n      moneyUnpaid,\r\n      numberProductsPaid,\r\n      numberProductsUnpaid,\r\n    },\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}